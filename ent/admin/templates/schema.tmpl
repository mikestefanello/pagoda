{{/* Tell Intellij/GoLand to enable the autocompletion based on the *gen.Graph type. */}}
{{/* gotype: entgo.io/ent/entc/gen.Graph */}}

{{ define "admin/schema" }}
    // Code generated by ent, DO NOT EDIT.
    package admin

    import (
        "entgo.io/ent/schema/field"
    )

    type EntitySchema struct {
        Name string
        Fields []FieldSchema
    }

    type Enum struct {
        Label, Value string
    }

    type FieldSchema struct {
        Name string
        Type field.Type
        Optional bool
        Immutable bool
        Sensitive bool
        Enums []Enum
    }

    var schema = []EntitySchema{
        {{- range $n := $.Nodes }}
            {
                Name: "{{ $n.Name }}",
                Fields: []FieldSchema{
                    {{- range $f := $n.Fields }}
                        {
                            Name: "{{ $f.Name }}",
                            Type: field.{{ $f.Type.Type.ConstName }},
                            Optional: {{ $f.Optional }},
                            Immutable: {{ $f.Immutable }},
                            Sensitive: {{ $f.Sensitive }},
                            {{- if len $f.Enums }}
                                Enums: []Enum{
                                    {{- range $e := $f.Enums }}
                                        {
                                            Label: "{{ $e.Label }}",
                                            Value: "{{ $e.Value }}",
                                        },
                                    {{- end }}
                                },
                            {{- else }}
                                Enums: nil,
                            {{- end }}
                        },
                    {{- end }}
                },
            },
        {{ end }}
    }

    func GetSchema() []EntitySchema {
        return schema
    }

{{ end }}